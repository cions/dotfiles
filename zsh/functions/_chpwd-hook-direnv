# vim: set ft=zsh:

emulate -L zsh
setopt extended_glob

local env

for env in ${_direnv}; {
    unset ${env}
}
if (( ${+_direnv_path} )) {
    path=( ${path:|_direnv_path} )
}

_direnv=()
_direnv_path=()

set -- (../)#node_modules/.bin(N-/od:a)
if (( $# > 0 )) {
    _direnv_path+=( $1 )
}

set -- (../)#pyvenv.cfg(N-.od:a:h)
if (( $# > 0 )) {
    VIRTUAL_ENV=$1
    _direnv+=( VIRTUAL_ENV )
    _direnv_path+=( $1/bin(N-/) )
}

path=( ${_direnv_path} ${path} )
hash -r
